<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Journeys</title>
    <style>
        :root {
            --primary-color: #8ec5fc;
            --secondary-color: #e0c3fc;
            --glass-bg: rgba(255, 255, 255, 0.85);
            --text-main: #444;
        }

        body {
            margin: 0;
            min-height: 100vh;
            background: transparent;
            font-family: 'PingFang SC', sans-serif;
            padding: 20px;
            overflow-x: hidden; /* é˜²æ­¢æ¨ªå‘æ»šåŠ¨ */
        }
        
        /* éšè—æ»šåŠ¨æ¡ */
        ::-webkit-scrollbar { display: none; }

        .container {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            min-height: 80vh;
        }

        /* === é¡¶éƒ¨å¯¼èˆªæ  === */
        .header {
            display: flex; align-items: center; margin-bottom: 20px;
            animation: fadeIn 0.5s;
        }
        .back-btn {
            background: #fff; border: none; padding: 8px 15px;
            border-radius: 20px; cursor: pointer; color: #666;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05); margin-right: 15px;
            display: none; /* é»˜è®¤éšè— */
            font-size: 14px; transition: 0.2s;
        }
        .back-btn:hover { transform: translateX(-3px); color: var(--primary-color); }
        .page-title { font-size: 22px; font-weight: bold; color: #fff; text-shadow: 0 2px 5px rgba(0,0,0,0.1); }

        /* === é¡µé¢å®¹å™¨ === */
        .view-section {
            display: none; /* é»˜è®¤éšè—æ‰€æœ‰éƒ¨åˆ†ï¼ŒJSæ§åˆ¶æ˜¾ç¤º */
            animation: slideUp 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        .view-section.active { display: block; }

        /* === 1. æ—…è¡Œåˆ—è¡¨ (Level 1) === */
        .trip-card {
            background: var(--glass-bg);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex; align-items: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            backdrop-filter: blur(10px);
        }
        .trip-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .trip-cover {
            width: 80px; height: 80px; border-radius: 12px;
            background-size: cover; background-position: center;
            margin-right: 20px; flex-shrink: 0;
            border: 2px solid #fff;
        }
        .trip-info h3 { margin: 0 0 5px 0; font-size: 18px; color: #333; }
        .trip-info p { margin: 0; font-size: 13px; color: #888; }
        .arrow { margin-left: auto; color: #ccc; font-weight: bold; }

        /* === 2. å¤©æ•°ç½‘æ ¼ (Level 2) === */
        .days-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 15px;
        }
        .day-box {
            background: rgba(255,255,255,0.9);
            border-radius: 15px;
            aspect-ratio: 1/1; /* æ­£æ–¹å½¢ */
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            cursor: pointer; transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border: 2px solid transparent;
        }
        .day-box:hover {
            transform: scale(1.05); border-color: var(--primary-color);
            color: var(--primary-color);
        }
        .day-num { font-size: 24px; font-weight: bold; font-family: 'Helvetica Neue', sans-serif; }
        .day-label { font-size: 12px; color: #999; margin-top: 5px; }

        /* === 3. è¯¦æƒ…å†…å®¹ (Level 3) === */
        .detail-card {
            background: rgba(255,255,255,0.95);
            border-radius: 20px; padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }
        .detail-title {
            font-size: 20px; font-weight: bold; margin-bottom: 15px;
            border-left: 5px solid var(--secondary-color); padding-left: 15px;
            color: #333;
        }
        .detail-desc { font-size: 15px; color: #555; line-height: 1.8; margin-bottom: 30px; }
        
        .photo-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px;
        }
        .photo-item {
            width: 100%; aspect-ratio: 1/1; border-radius: 10px;
            object-fit: cover; cursor: zoom-in;
            transition: transform 0.3s; background: #eee;
        }
        .photo-item:hover { transform: scale(1.03); }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <button class="back-btn" id="backBtn" onclick="goBack()">â† è¿”å›</button>
            <div class="page-title" id="pageTitle">æˆ‘ä»¬çš„æ—…è¡Œ</div>
        </div>

        <div id="tripListView" class="view-section active">
            </div>

        <div id="daysListView" class="view-section">
            <div class="days-grid" id="daysGrid">
                </div>
        </div>

        <div id="detailView" class="view-section">
            <div class="detail-card">
                <div class="detail-title" id="detailTitle">æ ‡é¢˜</div>
                <div class="detail-desc" id="detailDesc">æè¿°å†…å®¹</div>
                <div class="photo-grid" id="photoGrid">
                    </div>
            </div>
        </div>
    </div>

<script>
    // ===============================================
    // âœˆï¸ æ—…è¡Œæ•°æ®é…ç½®ä¸­å¿ƒ
    // ä»¥åæœ‰æ–°æ—…è¡Œï¼Œç›´æ¥å¤åˆ¶ä¸‹é¢çš„å¤§æ‹¬å·å—ï¼Œæ”¹é‡Œé¢çš„å­—å°±è¡Œ
    // ===============================================
    const TRIPS = [
        {
            id: 'shanghai2026',
            title: 'ä¸Šæµ·è¡Œ',
            date: '2026å¹´1æœˆ22æ—¥ - 1æœˆ29æ—¥',
            cover: 'SHD1/1.jpg', // åˆ—è¡¨é¡µæ˜¾ç¤ºçš„å°é¢å›¾
            days: [
                // Day 1
                {
                    title: 'ç»ˆäºè§åˆ°äº†',
                    desc: 'å»äº†èŸ é¾™æ–°å¤©åœ°å’Œå®¶å®è¿˜æœ‰å”å”é˜¿å§¨ä¸€èµ·åƒäº†ä¸€é¡¿é¥­ã€‚å¼€å¿ƒï¼',
                    folder: 'SHD1', // ç…§ç‰‡æ‰€åœ¨çš„æ–‡ä»¶å¤¹
                    photos: ['1.jpg', '2.jpg', '3.jpg', '4.jpg', '5.jpg'] // ç…§ç‰‡åå­—
                },
                // Day 2 (å ä½ï¼Œå¾…å¡«å……)
                { title: 'å¾…æ›´æ–°', desc: 'Day 2 çš„æ•…äº‹ç­‰ä½ æ¥å†™...', folder: '', photos: [] },
                // Day 3
                { title: 'å¾…æ›´æ–°', desc: 'Day 3 çš„æ•…äº‹ç­‰ä½ æ¥å†™...', folder: '', photos: [] },
                // Day 4
                { title: 'å¾…æ›´æ–°', desc: 'Day 4 çš„æ•…äº‹ç­‰ä½ æ¥å†™...', folder: '', photos: [] },
                // Day 5
                { title: 'å¾…æ›´æ–°', desc: 'Day 5 çš„æ•…äº‹ç­‰ä½ æ¥å†™...', folder: '', photos: [] },
                // Day 6
                { title: 'å¾…æ›´æ–°', desc: 'Day 6 çš„æ•…äº‹ç­‰ä½ æ¥å†™...', folder: '', photos: [] },
                // Day 7
                { title: 'å¾…æ›´æ–°', desc: 'Day 7 çš„æ•…äº‹ç­‰ä½ æ¥å†™...', folder: '', photos: [] },
                // Day 8
                { title: 'å¾…æ›´æ–°', desc: 'Day 8 çš„æ•…äº‹ç­‰ä½ æ¥å†™...', folder: '', photos: [] }
            ]
        },
        
        // ç¤ºä¾‹ï¼šä»¥åå¦‚æœæœ‰äº†åŒ—äº¬è¡Œï¼Œå°±æŠŠä¸‹é¢æ³¨é‡Šæ‰“å¼€æ”¹ä¸€ä¸‹
        /*
        {
            id: 'beijing2027',
            title: 'åŒ—äº¬è¡Œ',
            date: '2027å¹´...',
            cover: 'xxx/1.jpg',
            days: [ ... ]
        }
        */
    ];

    // ===============================================
    // ğŸ§  é€»è¾‘å¤„ç†åŒº (ä¸ç”¨åŠ¨)
    // ===============================================

    let currentLevel = 1; // 1=åˆ—è¡¨, 2=å¤©æ•°, 3=è¯¦æƒ…
    let currentTripIdx = 0;

    const backBtn = document.getElementById('backBtn');
    const pageTitle = document.getElementById('pageTitle');
    const views = {
        1: document.getElementById('tripListView'),
        2: document.getElementById('daysListView'),
        3: document.getElementById('detailView')
    };

    // åˆå§‹åŒ–ï¼šæ¸²æŸ“æ—…è¡Œåˆ—è¡¨
    function init() {
        const listContainer = document.getElementById('tripListView');
        listContainer.innerHTML = '';
        
        TRIPS.forEach((trip, index) => {
            const card = document.createElement('div');
            card.className = 'trip-card';
            card.onclick = () => openTrip(index);
            card.innerHTML = `
                <div class="trip-cover" style="background-image: url('${trip.cover}')"></div>
                <div class="trip-info">
                    <h3>${trip.title}</h3>
                    <p>ğŸ“… ${trip.date}</p>
                </div>
                <div class="arrow">âœ</div>
            `;
            listContainer.appendChild(card);
        });
    }

    // è¿›å…¥ Level 2: å¤©æ•°é€‰æ‹©
    function openTrip(index) {
        currentTripIdx = index;
        const trip = TRIPS[index];
        
        // æ¸²æŸ“å¤©æ•°æ ¼å­
        const grid = document.getElementById('daysGrid');
        grid.innerHTML = '';
        
        trip.days.forEach((dayData, dayIdx) => {
            const box = document.createElement('div');
            box.className = 'day-box';
            box.onclick = () => openDayDetail(dayIdx);
            box.innerHTML = `
                <div class="day-num">DAY ${dayIdx + 1}</div>
                <div class="day-label">${dayData.title === 'å¾…æ›´æ–°' ? 'æœªå®Œå¾…ç»­' : 'ç‚¹å‡»æŸ¥çœ‹'}</div>
            `;
            grid.appendChild(box);
        });

        pageTitle.innerText = trip.title; // æ”¹æ ‡é¢˜
        switchView(2);
    }

    // è¿›å…¥ Level 3: è¯¦æƒ…é¡µ
    function openDayDetail(dayIdx) {
        const dayData = TRIPS[currentTripIdx].days[dayIdx];
        
        document.getElementById('detailTitle').innerText = `Day ${dayIdx + 1}: ${dayData.title}`;
        document.getElementById('detailDesc').innerText = dayData.desc;
        
        const photoGrid = document.getElementById('photoGrid');
        photoGrid.innerHTML = '';

        if (dayData.photos && dayData.photos.length > 0) {
            dayData.photos.forEach(photoName => {
                const img = document.createElement('img');
                img.className = 'photo-item';
                // æ‹¼æ¥è·¯å¾„ï¼šæ–‡ä»¶å¤¹ + / + æ–‡ä»¶å
                img.src = `${dayData.folder}/${photoName}`; 
                img.loading = 'lazy';
                photoGrid.appendChild(img);
            });
        } else {
            photoGrid.innerHTML = '<div style="color:#999;font-size:13px;">( æš‚æ— ç…§ç‰‡ )</div>';
        }

        switchView(3);
    }

    // é¡µé¢åˆ‡æ¢é€»è¾‘
    function switchView(level) {
        // éšè—æ‰€æœ‰
        Object.values(views).forEach(el => el.classList.remove('active'));
        // æ˜¾ç¤ºç›®æ ‡
        views[level].classList.add('active');
        
        currentLevel = level;
        
        // æ§åˆ¶è¿”å›æŒ‰é’®
        if (level === 1) {
            backBtn.style.display = 'none';
            pageTitle.innerText = 'æˆ‘ä»¬çš„æ—…è¡Œ';
        } else {
            backBtn.style.display = 'block';
        }
    }

    // è¿”å›ä¸Šä¸€çº§
    function goBack() {
        if (currentLevel === 3) {
            // ä»è¯¦æƒ…å›å¤©æ•°åˆ—è¡¨
            pageTitle.innerText = TRIPS[currentTripIdx].title;
            switchView(2);
        } else if (currentLevel === 2) {
            // ä»å¤©æ•°åˆ—è¡¨å›æ€»æ—…è¡Œåˆ—è¡¨
            switchView(1);
        }
    }

    // å¯åŠ¨
    init();

</script>
</body>
</html>
